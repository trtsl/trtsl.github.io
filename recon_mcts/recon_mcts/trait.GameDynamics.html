<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `GameDynamics` trait in crate `recon_mcts`."><meta name="keywords" content="rust, rustlang, rust-lang, GameDynamics"><title>recon_mcts::GameDynamics - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../recon_mcts/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><p class='location'>Trait GameDynamics</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#associated-types">Associated Types</a><div class="sidebar-links"><a href="#associatedtype.Action">Action</a><a href="#associatedtype.ActionIter">ActionIter</a><a href="#associatedtype.Player">Player</a><a href="#associatedtype.Score">Score</a><a href="#associatedtype.State">State</a></div><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.apply_action">apply_action</a><a href="#tymethod.available_actions">available_actions</a><a href="#tymethod.backprop_scores">backprop_scores</a><a href="#tymethod.score_leaf">score_leaf</a><a href="#tymethod.select_node">select_node</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='index.html'>recon_mcts</a></p><script>window.sidebarCurrent = {name: 'GameDynamics', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#29-185' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='index.html'>recon_mcts</a>::<wbr><a class="trait" href=''>GameDynamics</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait GameDynamics {
    type <a href='#associatedtype.Player' class="type">Player</a>;
    type <a href='#associatedtype.State' class="type">State</a>;
    type <a href='#associatedtype.Action' class="type">Action</a>;
    type <a href='#associatedtype.Score' class="type">Score</a>;
    type <a href='#associatedtype.ActionIter' class="type">ActionIter</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;;
    fn <a href='#tymethod.available_actions' class='fnname'>available_actions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.ActionIter" title="type recon_mcts::GameDynamics::ActionIter">ActionIter</a>&gt;;
<div class='item-spacer'></div>    fn <a href='#tymethod.apply_action' class='fnname'>apply_action</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>&gt;;
<div class='item-spacer'></div>    fn <a href='#tymethod.select_node' class='fnname'>select_node</a>&lt;II, Q, A&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent_node_state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose: <a class="enum" href="../recon_mcts/enum.SelectNodeState.html" title="enum recon_mcts::SelectNodeState">SelectNodeState</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scores_and_actions: II<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Q, A<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a>&gt;</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.backprop_scores' class='fnname'>backprop_scores</a>&lt;II, Q&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;score_current: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;child_scores: II<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Q&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.score_leaf' class='fnname'>score_leaf</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;;
}</pre></div><div class='docblock'><p>Requires implementation by the user in order to provide the rules of the game and desired
specifics of the algorithm.</p>
<h1 id="implementation-note" class="section-header"><a href="#implementation-note">Implementation Note</a></h1>
<p>The associated types should generally not be types that allow interior mutability as mutating
them in the methods provided by the <code>GameDynamics</code> trait may result in logic error.  However,
in some implementations it may be desirable to use a
<a href="#associatedtype.Score"><code>GameDynamics::Score</code></a> type with interior mutability, e.g. in order to
modify the number of times it was selected in
<a href="#tymethod.select_node"><code>GameDynamics::select_node</code></a>.</p>
</div>
            <h2 id='associated-types' class='small-section-header'>Associated Types<a href='#associated-types' class='anchor'></a></h2><div class='methods'><h3 id='associatedtype.Player' class='method'><code id='Player.t'>type <a href='#associatedtype.Player' class="type">Player</a></code></h3><div class='docblock'><p>Most likely an enum to designate which player is allowed to select an action at the current
node.  For a one player game, this type can simply be the unit <code>()</code>.</p>
</div><h3 id='associatedtype.State' class='method'><code id='State.t'>type <a href='#associatedtype.State' class="type">State</a></code></h3><div class='docblock'><p>A type that complete describes the state of the game.  The implementation of the
<code>GameDynamics</code> must ensure that graph formed by the search tree is acyclic.  If the game
(e.g. chess) allows the same board position to be reached multiple times, some value within
the state could track how many times the state has been reached.  This is often required
anyway because repeat board position are actually different game states (e.g. in chess,
reaching the same board position three times results in a tie, so the game state is
actually distinct despite the position of pieces on the board being identical).</p>
</div><h3 id='associatedtype.Action' class='method'><code id='Action.t'>type <a href='#associatedtype.Action' class="type">Action</a></code></h3><div class='docblock'><p>Most likely an enum or integer value to describe the action that transitions from one state
to another.</p>
</div><h3 id='associatedtype.Score' class='method'><code id='Score.t'>type <a href='#associatedtype.Score' class="type">Score</a></code></h3><div class='docblock'><p>A type that represents an evaluation of <code>Self::State</code>.  This would commonly be a float, but
more elaborate types may be useful for some games, e.g. those with more than two players.</p>
</div><h3 id='associatedtype.ActionIter' class='method'><code id='ActionIter.t'>type <a href='#associatedtype.ActionIter' class="type">ActionIter</a>: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;</code></h3><div class='docblock'><p>An iterator used to establish the available actions and next player (note that the player
can be different for different actions).</p>
<p>If the returned iterator contains a closure, it will need to be boxed on stable Rust until
<code>#![feature(type_alias_impl_trait)]</code> is stabilized (see
<a href="https://github.com/rust-lang/rust/issues/63063">#63063</a> and
<a href="https://github.com/rust-lang/rust/issues/63066">#63066</a>).</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.available_actions' class='method'><code id='available_actions.v'>fn <a href='#tymethod.available_actions' class='fnname'>available_actions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.ActionIter" title="type recon_mcts::GameDynamics::ActionIter">ActionIter</a>&gt;</code></h3><div class='docblock'><p>Convert an input state into the available actions / moves. Return <code>None</code> if the game is
over.  If the game is over, the <a href="#tymethod.score_leaf"><code>GameDynamics::score_leaf</code></a> method
will be called to evaluate the state</p>
</div><h3 id='tymethod.apply_action' class='method'><code id='apply_action.v'>fn <a href='#tymethod.apply_action' class='fnname'>apply_action</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;action: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>&gt;</code></h3><div class='docblock'><p>Modify the state input (i.e. game board) with an action.</p>
<p>In some games it may be easier to determine whether an action is valid by trying to apply
it and then assess whether it succeeds or fails, we allow
<a href="#tymethod.apply_action"><code>GameDynamics::apply_action</code></a> to return on <code>Option::None</code> in case
of failure (in such a case the action will be treated as though it was never included in
the output of <code>available_actions</code>).</p>
<p>Note that the user must ensure that for any <code>State</code> the same state can never be reached
again by applying any number of <code>Action</code>s obtained via <code>available_actions</code> (i.e. the user
must ensure the tree graph is acyclic)</p>
</div><h3 id='tymethod.select_node' class='method'><code id='select_node.v'>fn <a href='#tymethod.select_node' class='fnname'>select_node</a>&lt;II, Q, A&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_node_state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;purpose: <a class="enum" href="../recon_mcts/enum.SelectNodeState.html" title="enum recon_mcts::SelectNodeState">SelectNodeState</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;scores_and_actions: II<br>) -&gt; Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Q, A<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Action" title="type recon_mcts::GameDynamics::Action">Action</a>&gt;,&nbsp;</span></code></h3><div class='docblock'><p>Select the action to take based on the scores.</p>
<p>Note that because <code>scores_and_actions</code> are received in non-deterministic order, the result
of the MCTS algorithm may also be non-deterministic if there is a tie with respect to the
selected score for two different actions.</p>
<p>The <code>SelectNodeState</code> maybe be used to add an additional exploration parameter when
searching for the best action.</p>
<p><code>parent_score</code> is included because MCTS commonly uses the parent's count of number of
visits in the selection phase.</p>
<p><code>parent_node_state</code> is not typically a required argument, but can be helpful if performing
only a partial expansion of nodes is desired upon reaching a leaf node and recalculating
the state is preferred over storing it in an enum. See additional info in
<a href="#tymethod.score_leaf"><code>GameDynamics::score_leaf</code></a>.</p>
</div><h3 id='tymethod.backprop_scores' class='method'><code id='backprop_scores.v'>fn <a href='#tymethod.backprop_scores' class='fnname'>backprop_scores</a>&lt;II, Q&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;score_current: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;child_scores: II<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Q&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;,&nbsp;</span></code></h3><div class='docblock'><p>Score a parent node based on its child nodes.</p>
<p><code>score_current</code> is passed to enable comparison with the calculated score so that if the
difference is insignificant, the backpropagation to the root node can be cut off by
returning a <code>None</code>.  For deep trees this may provide a decent performance boost.  The root
note does not have a score initially, so an <code>Option&lt;&amp;Self::Score&gt;</code> is used for
<code>score_current</code>.</p>
<p>Returning a <code>None</code> does not imply that <code>score_current</code> will be <code>None</code> on the next iteration
-- that would only be the case <em>iff</em> it was a <code>None</code> on the current iteration and a <code>None</code> is
returned.</p>
</div><h3 id='tymethod.score_leaf' class='method'><code id='score_leaf.v'>fn <a href='#tymethod.score_leaf' class='fnname'>score_leaf</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Player" title="type recon_mcts::GameDynamics::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.State" title="type recon_mcts::GameDynamics::State">State</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Self::<a class="type" href="../recon_mcts/trait.GameDynamics.html#associatedtype.Score" title="type recon_mcts::GameDynamics::Score">Score</a>&gt;</code></h3><div class='docblock'><p>Take a leaf node's state and assign the node a score, whether via simulation or otherwise.</p>
<p>Note that for a leaf where no actions are possible (i.e. a terminal node) the score should
be considered immutable.  Changes to the score of such a terminal node on subsequent
simulation runs will <em>not</em> result in the updates being backpropagated through the tree.</p>
<h1 id="implementation-note-1" class="section-header"><a href="#implementation-note-1">Implementation Note:</a></h1>
<p>The library currently expands all branches of a leaf, though this can effectively be
modified to a delayed scoring / rollout by using a type such as the following for the
associated type <code>Score</code> and then evaluating the <code>Score</code> in <a href="#tymethod.select_node"><code>GameDynamics::select_node</code></a> if
a <code>MyScore::State</code> is encountered.</p>

<div class='information'><div class='tooltip ignore'>ⓘ<span class='tooltiptext'>This example is not tested</span></div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="comment">// pseudo-code</span>
<span class="kw">impl</span> <span class="ident">GameDynamics</span> <span class="kw">for</span> <span class="ident">MyGame</span> {
    <span class="comment">// `MyRealScore` will need to be updated via a shared ref (i.e. it must be either an</span>
    <span class="comment">// atomic variable or wrapped in a type that provides interior mutability). This is an</span>
    <span class="comment">// exception to the rule that the associated types should not be mutated by the trait</span>
    <span class="comment">// methods for cases where a delayed rollout is desired.</span>
    <span class="kw">type</span> <span class="ident">Score</span> <span class="op">=</span> <span class="kw">enum</span> <span class="ident">MyScore</span> {
        <span class="ident">State</span>(<span class="self">Self</span>::<span class="ident">State</span>),
        <span class="ident">Score</span>(<span class="ident">MyRealScore</span>),
    };
    ...
}</pre></div>
<p>Alternatively, one could return a <code>None</code> and derive the state in
<a href="#tymethod.select_node"><code>GameDynamics::select_node</code></a> using <a href="#tymethod.available_actions"><code>GameDynamics::available_actions</code></a> if a <code>None</code> is
encountered.  The state will be calculated for the leaf node irrespective of whether the
scoring is performed by <a href="#tymethod.score_leaf"><code>GameDynamics::score_leaf</code></a> because it is used in checking whether
the same state already exists in the tree (i.e. encountered via a different sequence of
actions).</p>
</div></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-GameDynamics' class='impl'><code class='in-band'>impl&lt;R:&nbsp;?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>, T:&nbsp;?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>&gt; GameDynamics for R <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = T&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="../recon_mcts/trait.DynGD.html" title="trait recon_mcts::DynGD">DynGD</a>,&nbsp;</span></code><a href='#impl-GameDynamics' class='anchor'></a><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#306-399' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='associatedtype.Player-1' class="type"><code id='Player.t-1'>type <a href='#associatedtype.Player-1' class="type">Player</a> = &lt;T as <a class="trait" href="../recon_mcts/trait.BaseGD.html" title="trait recon_mcts::BaseGD">BaseGD</a>&gt;::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Player" title="type recon_mcts::BaseGD::Player">Player</a></code></h4><h4 id='associatedtype.State-1' class="type"><code id='State.t-1'>type <a href='#associatedtype.State-1' class="type">State</a> = &lt;T as <a class="trait" href="../recon_mcts/trait.BaseGD.html" title="trait recon_mcts::BaseGD">BaseGD</a>&gt;::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a></code></h4><h4 id='associatedtype.Action-1' class="type"><code id='Action.t-1'>type <a href='#associatedtype.Action-1' class="type">Action</a> = &lt;T as <a class="trait" href="../recon_mcts/trait.BaseGD.html" title="trait recon_mcts::BaseGD">BaseGD</a>&gt;::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Action" title="type recon_mcts::BaseGD::Action">Action</a></code></h4><h4 id='associatedtype.Score-1' class="type"><code id='Score.t-1'>type <a href='#associatedtype.Score-1' class="type">Score</a> = &lt;T as <a class="trait" href="../recon_mcts/trait.BaseGD.html" title="trait recon_mcts::BaseGD">BaseGD</a>&gt;::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a></code></h4><h4 id='associatedtype.ActionIter-1' class="type"><code id='ActionIter.t-1'>type <a href='#associatedtype.ActionIter-1' class="type">ActionIter</a> = &lt;T as <a class="trait" href="../recon_mcts/trait.BaseGD.html" title="trait recon_mcts::BaseGD">BaseGD</a>&gt;::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.ActionIter" title="type recon_mcts::BaseGD::ActionIter">ActionIter</a></code></h4><h4 id='method.available_actions' class="method hidden"><code id='available_actions.v-1'>fn <a href='#method.available_actions' class='fnname'>available_actions</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Player" title="type recon_mcts::BaseGD::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.ActionIter" title="type recon_mcts::BaseGD::ActionIter">ActionIter</a>&gt;</code><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#318-320' title='goto source code'>[src]</a></h4><h4 id='method.apply_action' class="method hidden"><code id='apply_action.v-1'>fn <a href='#method.apply_action' class='fnname'>apply_action</a>(&amp;self, state: T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a>, action: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Action" title="type recon_mcts::BaseGD::Action">Action</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a>&gt;</code><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#323-325' title='goto source code'>[src]</a></h4><h4 id='method.select_node' class="method hidden"><code id='select_node.v-1'>fn <a href='#method.select_node' class='fnname'>select_node</a>&lt;II, Q, A&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Player" title="type recon_mcts::BaseGD::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_node_state: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;purpose: <a class="enum" href="../recon_mcts/enum.SelectNodeState.html" title="enum recon_mcts::SelectNodeState">SelectNodeState</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;scores_and_actions: II<br>) -&gt; T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Action" title="type recon_mcts::BaseGD::Action">Action</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>Q, A<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Action" title="type recon_mcts::BaseGD::Action">Action</a>&gt;,&nbsp;</span></code><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#327-368' title='goto source code'>[src]</a></h4><h4 id='method.backprop_scores' class="method hidden"><code id='backprop_scores.v-1'>fn <a href='#method.backprop_scores' class='fnname'>backprop_scores</a>&lt;II, Q&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;player: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Player" title="type recon_mcts::BaseGD::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;score_current: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;child_scores: II<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;Self: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;II: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = Q&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/deref/trait.Deref.html" title="trait core::ops::deref::Deref">Deref</a>&lt;Target = T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;,&nbsp;</span></code><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#370-388' title='goto source code'>[src]</a></h4><h4 id='method.score_leaf' class="method hidden"><code id='score_leaf.v-1'>fn <a href='#method.score_leaf' class='fnname'>score_leaf</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_score: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;parent_player: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Player" title="type recon_mcts::BaseGD::Player">Player</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;state: &amp;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.State" title="type recon_mcts::BaseGD::State">State</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;T::<a class="type" href="../recon_mcts/trait.BaseGD.html#associatedtype.Score" title="type recon_mcts::BaseGD::Score">Score</a>&gt;</code><a class='srclink' href='../src/recon_mcts/game_dynamics.rs.html#391-398' title='goto source code'>[src]</a></h4></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../implementors/recon_mcts/trait.GameDynamics.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "recon_mcts";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>